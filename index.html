<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#007bff">
    <meta name="description" content="Advanced AI Assistant with voice control, notes, reminders, and search">
    <title>ALTECH AI</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ================ ROOT VARIABLES ================ */
        :root {
            --primary: #007bff;
            --primary-dark: #0056b3;
            --primary-light: #3298fe;
            --secondary: #6c757d;
            --success: #28a745;
            --success-dark: #218838;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #17a2b8;
            --dark: #343a40;
            --light: #f8f9fa;
            --bg-color: #ffffff;
            --surface: #f8f9fa;
            --text: #212529;
            --text-secondary: #6c757d;
            --border: #dee2e6;
            --shadow: rgba(0, 0, 0, 0.1);
            --radius: 12px;
            --radius-sm: 8px;
            --radius-lg: 20px;
            --transition: all 0.3s ease;
            --header-height: 80px;
            --bottom-nav-height: 70px;
        }
        
        .dark-mode {
            --primary: #3298fe;
            --primary-dark: #1a7ed8;
            --primary-light: #4da6fe;
            --secondary: #8a93a2;
            --success: #2bc155;
            --success-dark: #24a046;
            --danger: #e74c3c;
            --warning: #f1c40f;
            --info: #3498db;
            --dark: #1a1d21;
            --light: #2d3238;
            --bg-color: #121416;
            --surface: #1a1d21;
            --text: #e9ecef;
            --text-secondary: #8a93a2;
            --border: #2d3238;
            --shadow: rgba(0, 0, 0, 0.3);
        }
        
        /* ================ RESET & BASE ================ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Segoe UI Emoji', sans-serif;
            background: var(--bg-color);
            color: var(--text);
            min-height: 100vh;
            padding: 0;
            margin: 0;
            overflow-x: hidden;
            transition: var(--transition);
        }
        
        /* ================ ACCESSIBILITY ================ */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .focus-visible:focus {
            outline: 3px solid var(--primary);
            outline-offset: 2px;
        }
        
        /* ================ APP LAYOUT ================ */
        .app-container {
            max-width: 100%;
            min-height: 100vh;
            background: var(--bg-color);
            position: relative;
            overflow-x: hidden;
        }
        
        /* ================ HEADER ================ */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px;
            height: var(--header-height);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px var(--shadow);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }
        
        .logo-text {
            font-size: 1.4em;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .header-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .header-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.25);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            transition: var(--transition);
            -webkit-tap-highlight-color: transparent;
        }
        
        .header-btn:hover, .header-btn:active {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.05);
        }
        
        .header-btn.active {
            background: var(--success);
            border-color: var(--success);
        }
        
        /* ================ MAIN CONTENT ================ */
        .main-content {
            padding: 20px;
            padding-bottom: calc(var(--bottom-nav-height) + 30px);
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }
        
        /* ================ TAB SYSTEM ================ */
        .tab-system {
            background: var(--surface);
            border-radius: var(--radius-lg);
            overflow: hidden;
            border: 1px solid var(--border);
            margin-bottom: 20px;
            box-shadow: 0 5px 20px var(--shadow);
        }
        
        .tabs-header {
            display: flex;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            border-bottom: 2px solid var(--border);
            background: var(--bg-color);
        }
        
        .tabs-header::-webkit-scrollbar {
            display: none;
        }
        
        .tab-btn {
            flex: 1;
            min-width: 90px;
            padding: 18px 15px;
            background: transparent;
            border: none;
            color: var(--text);
            font-weight: 600;
            font-size: 0.95em;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
            position: relative;
        }
        
        .tab-btn i {
            font-size: 1.2em;
        }
        
        .tab-btn.active {
            color: var(--primary);
        }
        
        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
            border-radius: 3px 3px 0 0;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
            min-height: 300px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ================ VOICE ASSISTANT SECTION ================ */
        .voice-section {
            padding: 30px 20px;
            text-align: center;
        }
        
        .voice-status {
            margin-bottom: 20px;
        }
        
        .status-text {
            font-size: 1.1em;
            color: var(--text-secondary);
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .voice-orb-container {
            position: relative;
            display: inline-block;
            margin: 20px 0;
        }
        
        .voice-orb {
            width: 140px;
            height: 140px;
            background: linear-gradient(135deg, var(--primary), var(--info));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            border: 8px solid var(--surface);
            box-shadow: 0 15px 35px var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        .voice-orb::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: conic-gradient(transparent, var(--primary), transparent 70%);
            animation: rotate 3s linear infinite;
            border-radius: 50%;
        }
        
        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }
        
        .voice-orb i {
            font-size: 3em;
            color: white;
            position: relative;
            z-index: 1;
        }
        
        .voice-orb.listening {
            background: linear-gradient(135deg, var(--danger), var(--warning));
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .transcript-display {
            background: var(--surface);
            padding: 20px;
            border-radius: var(--radius);
            margin: 20px 0;
            min-height: 100px;
            border-left: 5px solid var(--primary);
            text-align: left;
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        .ai-response {
            background: var(--surface);
            padding: 25px;
            border-radius: var(--radius);
            margin: 25px 0;
            border-left: 5px solid var(--success);
            text-align: left;
            position: relative;
        }
        
        .response-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .control-btn {
            padding: 10px 15px;
            border: none;
            border-radius: var(--radius-sm);
            background: var(--primary);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: var(--transition);
            flex: 1;
            justify-content: center;
        }
        
        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px var(--shadow);
        }
        
        .control-btn.success {
            background: var(--success);
        }
        
        .control-btn.danger {
            background: var(--danger);
        }
        
        /* ================ QUICK ACTIONS ================ */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        .action-btn {
            padding: 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            font-weight: 600;
            border: 2px solid transparent;
            min-height: 120px;
            justify-content: center;
        }
        
        .action-btn i {
            font-size: 1.8em;
        }
        
        .action-btn:hover, .action-btn:active {
            background: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px var(--shadow);
            border-color: var(--primary);
        }
        
        .action-btn.success {
            background: var(--success);
        }
        
        .action-btn.success:hover {
            background: var(--success-dark);
        }
        
        .action-btn.warning {
            background: var(--warning);
            color: var(--dark);
        }
        
        .action-btn.info {
            background: var(--info);
        }
        
        /* ================ CONTACTS ================ */
        .contacts-section {
            padding: 20px;
        }
        
        .contacts-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .contacts-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .contact-item {
            background: var(--surface);
            padding: 20px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            transition: var(--transition);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .contact-item:hover {
            border-color: var(--primary);
            box-shadow: 0 5px 15px var(--shadow);
            transform: translateY(-2px);
        }
        
        .contact-info {
            flex: 1;
        }
        
        .contact-name {
            font-size: 1.2em;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 5px;
        }
        
        .contact-phone, .contact-email {
            color: var(--text-secondary);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .contact-actions {
            display: flex;
            gap: 10px;
        }
        
        .contact-action-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .contact-action-btn.call {
            background: var(--success);
            color: white;
        }
        
        .contact-action-btn.message {
            background: var(--info);
            color: white;
        }
        
        .contact-action-btn.delete {
            background: var(--danger);
            color: white;
        }
        
        /* ================ NOTES ================ */
        .notes-section {
            padding: 20px;
        }
        
        .notes-editor {
            background: var(--surface);
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }
        
        #notesTextarea {
            width: 100%;
            min-height: 200px;
            padding: 20px;
            background: var(--bg-color);
            color: var(--text);
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
            margin-bottom: 20px;
            transition: var(--transition);
        }
        
        #notesTextarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }
        
        .notes-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .notes-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .note-item {
            background: var(--surface);
            padding: 20px;
            border-radius: var(--radius);
            border-left: 5px solid var(--warning);
            border: 1px solid var(--border);
        }
        
        .note-date {
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* ================ REMINDERS ================ */
        .reminders-section {
            padding: 20px;
        }
        
        .reminder-form {
            background: var(--surface);
            padding: 25px;
            border-radius: var(--radius);
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-control {
            width: 100%;
            padding: 15px;
            background: var(--bg-color);
            color: var(--text);
            border: 2px solid var(--border);
            border-radius: var(--radius-sm);
            font-size: 1em;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }
        
        .reminders-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .reminder-item {
            background: var(--surface);
            padding: 20px;
            border-radius: var(--radius);
            border-left: 5px solid var(--warning);
            border: 1px solid var(--border);
            transition: var(--transition);
        }
        
        .reminder-item.due {
            border-left-color: var(--danger);
            background: rgba(220, 53, 69, 0.1);
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        /* ================ SEARCH ================ */
        .search-section {
            padding: 20px;
        }
        
        .search-bar {
            position: relative;
            margin-bottom: 25px;
        }
        
        #searchInput {
            width: 100%;
            padding: 18px 20px 18px 55px;
            background: var(--surface);
            color: var(--text);
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 1.1em;
            transition: var(--transition);
        }
        
        #searchInput:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }
        
        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 1.2em;
        }
        
        .search-results {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .search-result-item {
            background: var(--surface);
            padding: 20px;
            border-radius: var(--radius);
            border-left: 5px solid var(--info);
            border: 1px solid var(--border);
        }
        
        /* ================ MODALS ================ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
            backdrop-filter: blur(5px);
        }
        
        .modal {
            background: var(--bg-color);
            padding: 30px;
            border-radius: var(--radius-lg);
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlide 0.3s ease;
            border: 1px solid var(--border);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        @keyframes modalSlide {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .modal-title {
            font-size: 1.5em;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5em;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .modal-close:hover {
            color: var(--danger);
        }
        
        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-weight: 600;
            font-size: 1em;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: var(--secondary);
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        /* ================ TOAST ================ */
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 350px;
        }
        
        .toast {
            background: var(--dark);
            color: white;
            padding: 18px 25px;
            border-radius: var(--radius);
            box-shadow: 0 10px 30px var(--shadow);
            animation: slideInRight 0.3s ease;
            border-left: 5px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .toast.success {
            border-left-color: var(--success);
        }
        
        .toast.error {
            border-left-color: var(--danger);
        }
        
        .toast.warning {
            border-left-color: var(--warning);
        }
        
        .toast.info {
            border-left-color: var(--info);
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* ================ BOTTOM NAVIGATION ================ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--surface);
            border-top: 1px solid var(--border);
            height: var(--bottom-nav-height);
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 999;
            padding: 0 10px;
            backdrop-filter: blur(10px);
        }
        
        .nav-btn {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            background: none;
            border: none;
            color: var(--text-secondary);
            padding: 12px 5px;
            cursor: pointer;
            transition: var(--transition);
            border-radius: var(--radius-sm);
            min-width: 0;
        }
        
        .nav-btn i {
            font-size: 1.3em;
        }
        
        .nav-btn.active {
            color: var(--primary);
            background: rgba(var(--primary-rgb), 0.1);
        }
        
        .nav-btn-label {
            font-size: 0.8em;
            font-weight: 600;
        }
        
        /* ================ FLOATING BUTTONS ================ */
        .floating-buttons {
            position: fixed;
            bottom: calc(var(--bottom-nav-height) + 20px);
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 998;
        }
        
        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--success);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3);
            transition: var(--transition);
            position: relative;
        }
        
        .floating-btn:hover {
            transform: scale(1.1) translateY(-5px);
            box-shadow: 0 15px 35px rgba(40, 167, 69, 0.4);
        }
        
        .floating-btn.whatsapp {
            background: #25D366;
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.3);
        }
        
        .floating-btn.whatsapp:hover {
            box-shadow: 0 15px 35px rgba(37, 211, 102, 0.4);
        }
        
        .floating-btn.install {
            background: var(--warning);
            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.3);
        }
        
        .floating-btn.install:hover {
            box-shadow: 0 15px 35px rgba(255, 193, 7, 0.4);
        }
        
        .floating-btn .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        /* ================ LOADING & TYPING INDICATORS ================ */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .typing-indicator {
            display: inline-flex;
            gap: 5px;
            align-items: center;
            padding: 15px;
            background: var(--surface);
            border-radius: var(--radius);
            margin: 10px 0;
            border: 1px solid var(--border);
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 50%;
            animation: bounce 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* ================ RESPONSIVE DESIGN ================ */
        @media (max-width: 768px) {
            :root {
                --header-height: 70px;
                --bottom-nav-height: 65px;
            }
            
            .header {
                padding: 15px;
            }
            
            .logo-text {
                font-size: 1.2em;
            }
            
            .main-content {
                padding: 15px;
                padding-bottom: calc(var(--bottom-nav-height) + 20px);
            }
            
            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            
            .action-btn {
                min-height: 100px;
                padding: 15px;
                font-size: 0.9em;
            }
            
            .action-btn i {
                font-size: 1.5em;
            }
            
            .voice-orb {
                width: 120px;
                height: 120px;
            }
            
            .voice-orb i {
                font-size: 2.5em;
            }
            
            .modal {
                padding: 20px;
                margin: 10px;
            }
            
            .floating-buttons {
                bottom: calc(var(--bottom-nav-height) + 15px);
                right: 15px;
            }
            
            .floating-btn {
                width: 55px;
                height: 55px;
                font-size: 1.3em;
            }
            
            .tab-btn {
                min-width: 80px;
                padding: 15px 10px;
                font-size: 0.9em;
            }
        }
        
        @media (max-width: 480px) {
            :root {
                --header-height: 60px;
            }
            
            .header {
                padding: 12px;
            }
            
            .logo-text {
                font-size: 1.1em;
            }
            
            .header-btn {
                width: 40px;
                height: 40px;
                font-size: 1.1em;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
            
            .tab-btn {
                min-width: 70px;
                font-size: 0.8em;
            }
            
            .tab-btn i {
                font-size: 1.1em;
            }
            
            .bottom-nav {
                height: 60px;
            }
            
            .nav-btn i {
                font-size: 1.2em;
            }
            
            .nav-btn-label {
                font-size: 0.7em;
            }
            
            .form-control {
                padding: 12px;
            }
            
            .transcript-display, .ai-response {
                padding: 15px;
            }
        }
        
        /* ================ UTILITY CLASSES ================ */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .mt-1 { margin-top: 10px; }
        .mt-2 { margin-top: 20px; }
        .mt-3 { margin-top: 30px; }
        .mb-1 { margin-bottom: 10px; }
        .mb-2 { margin-bottom: 20px; }
        .mb-3 { margin-bottom: 30px; }
        .d-none { display: none !important; }
        .d-flex { display: flex !important; }
        .d-block { display: block !important; }
        .flex-1 { flex: 1; }
        .w-100 { width: 100%; }
        
        .error-message {
            background: rgba(220, 53, 69, 0.1);
            color: var(--danger);
            padding: 15px;
            border-radius: var(--radius);
            margin: 10px 0;
            border: 1px solid var(--danger);
        }
        
        .success-message {
            background: rgba(40, 167, 69, 0.1);
            color: var(--success);
            padding: 15px;
            border-radius: var(--radius);
            margin: 10px 0;
            border: 1px solid var(--success);
        }
        
        .info-message {
            background: rgba(23, 162, 184, 0.1);
            color: var(--info);
            padding: 15px;
            border-radius: var(--radius);
            margin: 10px 0;
            border: 1px solid var(--info);
        }
        
        .warning-message {
            background: rgba(255, 193, 7, 0.1);
            color: var(--warning);
            padding: 15px;
            border-radius: var(--radius);
            margin: 10px 0;
            border: 1px solid var(--warning);
        }
        
        /* ================ ANIMATIONS ================ */
        @keyframes slideInUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutDown {
            from {
                transform: translateY(0);
                opacity: 1;
            }
            to {
                transform: translateY(100%);
                opacity: 0;
            }
        }
        
        .slide-in-up {
            animation: slideInUp 0.3s ease;
        }
        
        .slide-out-down {
            animation: slideOutDown 0.3s ease;
        }
        
        /* ================ PWA INSTALL PROMOTION ================ */
        .pwa-install-banner {
            position: fixed;
            bottom: calc(var(--bottom-nav-height) + 20px);
            left: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 997;
            display: none;
            animation: slideInUp 0.5s ease;
        }
        
        .install-banner-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
        }
        
        .install-banner-text h4 {
            margin-bottom: 5px;
        }
        
        .install-banner-text p {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .install-banner-actions {
            display: flex;
            gap: 10px;
        }
        
        /* ================ SETTINGS PANEL ================ */
        .settings-panel {
            position: fixed;
            top: var(--header-height);
            right: -400px;
            width: 350px;
            height: calc(100vh - var(--header-height));
            background: var(--bg-color);
            border-left: 1px solid var(--border);
            padding: 30px;
            overflow-y: auto;
            transition: var(--transition);
            z-index: 999;
            box-shadow: -10px 0 30px var(--shadow);
        }
        
        .settings-panel.open {
            right: 0;
        }
        
        .settings-section {
            margin-bottom: 30px;
        }
        
        .settings-title {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }
        
        .setting-label {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .setting-description {
            font-size: 0.9em;
            color: var(--text-secondary);
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border);
            transition: var(--transition);
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--success);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        /* ================ ACCESSIBILITY CONTROLS ================ */
        .accessibility-controls {
            position: fixed;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            z-index: 998;
            display: flex;
            flex-direction: column;
            gap: 10px;
            background: var(--surface);
            padding: 15px;
            border-radius: 0 var(--radius) var(--radius) 0;
            box-shadow: 5px 5px 20px var(--shadow);
            border: 1px solid var(--border);
        }
        
        .accessibility-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            transition: var(--transition);
        }
        
        .accessibility-btn:hover {
            transform: scale(1.1);
        }
        
        /* ================ HIGHLIGHT FOR VOICE READING ================ */
        .highlight-reading {
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0) 0%, 
                rgba(255, 255, 255, 0.1) 50%, 
                rgba(255, 255, 255, 0) 100%);
            background-size: 200% 100%;
            animation: reading 2s linear infinite;
            padding: 2px 5px;
            border-radius: 4px;
        }
        
        @keyframes reading {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
    </style>
</head>
<body class="light-mode">
    <!-- App Container -->
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="logo-text">ALTECH AI</div>
                </div>
            </div>
            
            <div class="header-controls">
                <button class="header-btn" id="settingsBtn" title="Settings">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="header-btn" id="themeToggle" title="Toggle Theme">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="header-btn active" id="aiToggle" title="Toggle AI">
                    <i class="fas fa-brain"></i>
                </button>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Tab System -->
            <div class="tab-system">
                <div class="tabs-header">
                    <button class="tab-btn active" data-tab="assistant">
                        <i class="fas fa-robot"></i>
                        <span>Assistant</span>
                    </button>
                    <button class="tab-btn" data-tab="contacts">
                        <i class="fas fa-users"></i>
                        <span>Contacts</span>
                    </button>
                    <button class="tab-btn" data-tab="notes">
                        <i class="fas fa-sticky-note"></i>
                        <span>Notes</span>
                    </button>
                    <button class="tab-btn" data-tab="reminders">
                        <i class="fas fa-bell"></i>
                        <span>Reminders</span>
                    </button>
                    <button class="tab-btn" data-tab="search">
                        <i class="fas fa-search"></i>
                        <span>Search</span>
                    </button>
                </div>
                
                <!-- Assistant Tab -->
                <div id="assistant" class="tab-content active">
                    <div class="voice-section">
                        <div class="voice-status">
                            <div class="status-text" id="statusText">Click microphone and speak your command</div>
                            <div class="status-text" id="aiStatus">AI Assistant: <span class="highlight-reading">Ready</span></div>
                        </div>
                        
                        <div class="voice-orb-container">
                            <div class="voice-orb" id="voiceOrb">
                                <i class="fas fa-microphone"></i>
                            </div>
                        </div>
                        
                        <div class="transcript-display" id="transcript">
                            <strong>Try saying:</strong><br>
                            • "Add note meeting tomorrow at 3 PM"<br>
                            • "Remind me to call mom in 1 hour"<br>
                            • "What is artificial intelligence?"<br>
                            • "Weather in Nairobi"<br>
                            • "Search for latest tech news"
                        </div>
                        
                        <div class="ai-response" id="aiResponse">
                            <h3><i class="fas fa-brain"></i> AI Response</h3>
                            <div id="aiOutput">
                                <div class="typing-indicator">
                                    <div class="typing-dot"></div>
                                    <div class="typing-dot"></div>
                                    <div class="typing-dot"></div>
                                </div>
                                <span class="highlight-reading">Initializing AI Assistant... Ready to help!</span>
                            </div>
                            <div class="response-controls">
                                <button class="control-btn" onclick="speakCurrentResponse()">
                                    <i class="fas fa-volume-up"></i> Read
                                </button>
                                <button class="control-btn success" onclick="copyToClipboard('aiOutput')">
                                    <i class="fas fa-copy"></i> Copy
                                </button>
                                <button class="control-btn" onclick="clearResponse()">
                                    <i class="fas fa-times"></i> Clear
                                </button>
                            </div>
                        </div>
                        
                        <div class="quick-actions" id="quickActions">
                            <!-- Quick actions will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- Contacts Tab -->
                <div id="contacts" class="tab-content">
                    <div class="contacts-section">
                        <div class="contacts-header">
                            <h3><i class="fas fa-users"></i> Contacts</h3>
                            <div>
                                <button class="btn btn-primary" onclick="showAddContactModal()">
                                    <i class="fas fa-user-plus"></i> Add Contact
                                </button>
                                <button class="btn btn-secondary" onclick="importRealContacts()">
                                    <i class="fas fa-mobile-alt"></i> Import Contacts
                                </button>
                            </div>
                        </div>
                        
                        <div class="contacts-list" id="contactsList">
                            <!-- Contacts will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- Notes Tab -->
                <div id="notes" class="tab-content">
                    <div class="notes-section">
                        <div class="notes-editor">
                            <h3><i class="fas fa-edit"></i> Quick Note</h3>
                            <textarea id="notesTextarea" placeholder="Type your note here or use voice command... (Auto-saves every 30 seconds)"></textarea>
                            <div class="notes-actions">
                                <button class="btn btn-primary" onclick="saveNote()">
                                    <i class="fas fa-save"></i> Save Note
                                </button>
                                <button class="btn btn-success" onclick="addVoiceNote()">
                                    <i class="fas fa-microphone"></i> Voice Note
                                </button>
                                <button class="btn btn-secondary" onclick="clearNotes()">
                                    <i class="fas fa-trash"></i> Clear
                                </button>
                                <button class="btn btn-info" onclick="exportNotes()">
                                    <i class="fas fa-download"></i> Export
                                </button>
                            </div>
                        </div>
                        
                        <h3><i class="fas fa-history"></i> Recent Notes</h3>
                        <div class="notes-list" id="notesList">
                            <!-- Notes will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- Reminders Tab -->
                <div id="reminders" class="tab-content">
                    <div class="reminders-section">
                        <div class="reminder-form">
                            <h3><i class="fas fa-bell"></i> New Reminder</h3>
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-comment"></i> Reminder Text
                                </label>
                                <input type="text" id="reminderText" class="form-control" placeholder="What should I remind you about?">
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-calendar-alt"></i> Date & Time
                                </label>
                                <input type="datetime-local" id="reminderTime" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-bell"></i> Notification Type
                                </label>
                                <select id="reminderType" class="form-control">
                                    <option value="notification">Browser Notification</option>
                                    <option value="sound">Sound Alert</option>
                                    <option value="both">Both</option>
                                </select>
                            </div>
                            <button class="btn btn-primary w-100" onclick="addReminder()">
                                <i class="fas fa-plus"></i> Add Reminder
                            </button>
                        </div>
                        
                        <h3><i class="fas fa-clock"></i> Upcoming Reminders</h3>
                        <div class="reminders-list" id="remindersList">
                            <!-- Reminders will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- Search Tab -->
                <div id="search" class="tab-content">
                    <div class="search-section">
                        <div class="search-bar">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" id="searchInput" class="form-control" 
                                   placeholder="Ask anything or search the web..." 
                                   onkeypress="if(event.key === 'Enter') performSearch()">
                        </div>
                        
                        <div class="search-actions mb-3">
                            <div class="quick-actions">
                                <button class="action-btn" onclick="searchWithProvider('google')">
                                    <i class="fab fa-google"></i>
                                    <span>Google</span>
                                </button>
                                <button class="action-btn info" onclick="searchWithProvider('wikipedia')">
                                    <i class="fab fa-wikipedia-w"></i>
                                    <span>Wikipedia</span>
                                </button>
                                <button class="action-btn success" onclick="searchWithProvider('youtube')">
                                    <i class="fab fa-youtube"></i>
                                    <span>YouTube</span>
                                </button>
                                <button class="action-btn warning" onclick="searchWithProvider('news')">
                                    <i class="fas fa-newspaper"></i>
                                    <span>News</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="search-results" id="searchResults">
                            <!-- Search results will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-tab="assistant">
                <i class="fas fa-home"></i>
                <span class="nav-btn-label">Home</span>
            </button>
            <button class="nav-btn" data-tab="contacts">
                <i class="fas fa-users"></i>
                <span class="nav-btn-label">Contacts</span>
            </button>
            <button class="nav-btn" data-tab="notes">
                <i class="fas fa-sticky-note"></i>
                <span class="nav-btn-label">Notes</span>
            </button>
            <button class="nav-btn" data-tab="reminders">
                <i class="fas fa-bell"></i>
                <span class="nav-btn-label">Reminders</span>
            </button>
            <button class="nav-btn" data-tab="search">
                <i class="fas fa-search"></i>
                <span class="nav-btn-label">Search</span>
            </button>
        </nav>
        
        <!-- Floating Buttons -->
        <div class="floating-buttons">
            <button class="floating-btn whatsapp" id="whatsappBtn" title="Get Help on WhatsApp">
                <i class="fab fa-whatsapp"></i>
            </button>
            <button class="floating-btn install" id="installBtn" title="Install App">
                <i class="fas fa-download"></i>
            </button>
            <button class="floating-btn" id="voiceBtn" title="Voice Assistant">
                <i class="fas fa-microphone"></i>
            </button>
        </div>
        
        <!-- Accessibility Controls -->
        <div class="accessibility-controls">
            <button class="accessibility-btn" onclick="increaseFontSize()" title="Increase Text Size">
                <i class="fas fa-text-height"></i>
            </button>
            <button class="accessibility-btn" onclick="decreaseFontSize()" title="Decrease Text Size">
                <i class="fas fa-text-width"></i>
            </button>
            <button class="accessibility-btn" onclick="toggleHighContrast()" title="High Contrast">
                <i class="fas fa-adjust"></i>
            </button>
            <button class="accessibility-btn" onclick="speakCurrentResponse()" title="Read Aloud">
                <i class="fas fa-volume-up"></i>
            </button>
        </div>
        
        <!-- PWA Install Banner -->
        <div class="pwa-install-banner" id="installBanner">
            <div class="install-banner-content">
                <div class="install-banner-text">
                    <h4>Install ALTECH AI Assistant</h4>
                    <p>Get faster access, work offline, and receive notifications</p>
                </div>
                <div class="install-banner-actions">
                    <button class="btn btn-success" onclick="installPWA()">
                        <i class="fas fa-download"></i> Install
                    </button>
                    <button class="btn btn-secondary" onclick="hideInstallBanner()">
                        <i class="fas fa-times"></i> Later
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Settings Panel -->
        <div class="settings-panel" id="settingsPanel">
            <div class="settings-section">
                <h3 class="settings-title"><i class="fas fa-cog"></i> Settings</h3>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <strong>AI Assistant</strong>
                        <span class="setting-description">Enable/disable AI responses</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="aiEnabled" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <strong>Voice Recognition</strong>
                        <span class="setting-description">Enable voice commands</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="voiceEnabled" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <strong>Auto-Save Notes</strong>
                        <span class="setting-description">Automatically save notes</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="autoSave" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <strong>Notifications</strong>
                        <span class="setting-description">Enable browser notifications</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="notificationsEnabled" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <strong>Text-to-Speech</strong>
                        <span class="setting-description">Read responses aloud</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="ttsEnabled" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">
                        <strong>Dark Mode</strong>
                        <span class="setting-description">Toggle dark/light theme</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="darkModeToggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
            
            <div class="settings-section">
                <h3 class="settings-title"><i class="fas fa-database"></i> Data Management</h3>
                <button class="btn btn-primary w-100 mb-2" onclick="exportAllData()">
                    <i class="fas fa-download"></i> Export All Data
                </button>
                <button class="btn btn-secondary w-100 mb-2" onclick="importData()">
                    <i class="fas fa-upload"></i> Import Data
                </button>
                <button class="btn btn-danger w-100" onclick="clearAllData()">
                    <i class="fas fa-trash"></i> Clear All Data
                </button>
            </div>
            
            <div class="settings-section">
                <h3 class="settings-title"><i class="fas fa-info-circle"></i> About</h3>
                <p>ALTECH AI Assistant v2.0</p>
                <p>Advanced AI assistant with voice control, notes, reminders, and search functionality.</p>
                <p style="color: var(--text-secondary); font-size: 0.9em;">© 2024 ALTECH AI. All rights reserved.</p>
            </div>
        </div>
        
        <!-- Modals -->
        <div class="modal-overlay" id="addContactModal">
            <div class="modal">
                <div class="modal-header">
                    <h3 class="modal-title"><i class="fas fa-user-plus"></i> Add New Contact</h3>
                    <button class="modal-close" onclick="closeModal('addContactModal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Full Name *</label>
                    <input type="text" id="contactName" class="form-control" placeholder="Enter full name" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Phone Number *</label>
                    <input type="tel" id="contactPhone" class="form-control" placeholder="e.g., 0712345678" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email (Optional)</label>
                    <input type="email" id="contactEmail" class="form-control" placeholder="email@example.com">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Group</label>
                    <select id="contactGroup" class="form-control">
                        <option value="">Select Group</option>
                        <option value="family">Family</option>
                        <option value="friends">Friends</option>
                        <option value="work">Work</option>
                        <option value="emergency">Emergency</option>
                    </select>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="saveContact()">
                        <i class="fas fa-save"></i> Save Contact
                    </button>
                    <button class="btn btn-secondary" onclick="closeModal('addContactModal')">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Toast Container -->
        <div class="toast-container" id="toastContainer"></div>
    </div>
    
    <!-- Service Worker Registration -->
    <script>
        // ================ SERVICE WORKER FOR PWA ================
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').then(registration => {
                console.log('✅ Service Worker registered:', registration.scope);
            }).catch(error => {
                console.log('❌ Service Worker registration failed:', error);
            });
        }
        
        // ================ MANIFEST FOR PWA ================
        const manifest = {
            "name": "ALTECH AI Assistant",
            "short_name": "ALTECH AI",
            "description": "Advanced AI assistant with voice control and smart features",
            "start_url": "/",
            "display": "standalone",
            "background_color": "#007bff",
            "theme_color": "#007bff",
            "icons": [
                {
                    "src": "icons/icon-72x72.png",
                    "sizes": "72x72",
                    "type": "image/png"
                },
                {
                    "src": "icons/icon-96x96.png",
                    "sizes": "96x96",
                    "type": "image/png"
                },
                {
                    "src": "icons/icon-128x128.png",
                    "sizes": "128x128",
                    "type": "image/png"
                },
                {
                    "src": "icons/icon-144x144.png",
                    "sizes": "144x144",
                    "type": "image/png"
                },
                {
                    "src": "icons/icon-152x152.png",
                    "sizes": "152x152",
                    "type": "image/png"
                },
                {
                    "src": "icons/icon-192x192.png",
                    "sizes": "192x192",
                    "type": "image/png"
                },
                {
                    "src": "icons/icon-384x384.png",
                    "sizes": "384x384",
                    "type": "image/png"
                },
                {
                    "src": "icons/icon-512x512.png",
                    "sizes": "512x512",
                    "type": "image/png"
                }
            ]
        };
        
        // ================ APP INITIALIZATION ================
        document.addEventListener('DOMContentLoaded', () => {
            console.log('🚀 Initializing ALTECH AI Assistant v2.0...');
            
            // Initialize app
            initializeApp();
            
            // Request notification permission
            requestNotificationPermission();
            
            // Check for PWA installation
            checkPWAInstallable();
            
            // Show welcome
            setTimeout(() => {
                showToast('ALTECH AI Assistant ready! Try voice commands or click buttons.', 'success');
                updateAIResponse(`
                    <div class="success-message">
                        <h4 style="margin-bottom: 10px;">🤖 ALTECH AI Assistant v2.0</h4>
                        <p>Now with enhanced features:</p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li><strong>🎯 Real Mobile Responsiveness</strong> - Works perfectly on all devices</li>
                            <li><strong>📱 PWA Support</strong> - Install as app & work offline</li>
                            <li><strong>🔔 Real Browser Notifications</strong> - Get reminder alerts</li>
                            <li><strong>🎙️ Voice Notes & Reminders</strong> - Add using voice commands</li>
                            <li><strong>🔍 Intelligent Search</strong> - Auto-redirects to web</li>
                            <strong>♿ Full Accessibility</strong> - Voice reading & high contrast</li>
                            <li><strong>👥 Real Contact Access</strong> - Import from device</li>
                            <li><strong>💬 WhatsApp Support</strong> - Get help instantly</li>
                        </ul>
                        <p style="margin-top: 15px; font-weight: 600;">Try saying: <em>"Add note meeting tomorrow"</em> or <em>"What is AI?"</em></p>
                    </div>
                `);
            }, 1000);
        });
        
        // ================ CORE SYSTEM VARIABLES ================
        let appState = {
            aiEnabled: true,
            voiceEnabled: true,
            darkMode: false,
            autoSave: true,
            notificationsEnabled: false,
            ttsEnabled: true,
            fontSize: 16,
            highContrast: false,
            currentTab: 'assistant',
            isListening: false,
            deferredPrompt: null,
            contacts: [],
            notes: [],
            reminders: [],
            searchHistory: [],
            voiceHistory: []
        };
        
        // ================ APP INITIALIZATION FUNCTION ================
        function initializeApp() {
            // Load saved state
            loadAppState();
            
            // Initialize components
            initializeVoiceRecognition();
            initializeUI();
            initializeQuickActions();
            loadAllData();
            setupEventListeners();
            setupAutoSave();
            setupReminderChecks();
            
            // Set up accessibility
            document.documentElement.style.fontSize = appState.fontSize + 'px';
            
            console.log('✅ ALTECH AI Assistant fully initialized');
        }
        
        // ================ VOICE RECOGNITION SYSTEM ================
        function initializeVoiceRecognition() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            
            if (!SpeechRecognition) {
                showToast('Voice recognition not supported in your browser', 'warning');
                document.getElementById('voiceOrb').style.display = 'none';
                return;
            }
            
            const recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = true;
            recognition.lang = 'en-US';
            
            recognition.onstart = () => {
                appState.isListening = true;
                document.getElementById('voiceOrb').classList.add('listening');
                document.getElementById('statusText').textContent = '🎤 Listening... Speak now';
                showToast('Listening... Speak your command', 'info');
            };
            
            recognition.onresult = (event) => {
                const transcript = Array.from(event.results)
                    .map(result => result[0].transcript)
                    .join('');
                
                document.getElementById('transcript').innerHTML = 
                    `<strong>You said:</strong> ${transcript}`;
                
                if (event.results[0].isFinal) {
                    handleVoiceCommand(transcript);
                }
            };
            
            recognition.onend = () => {
                appState.isListening = false;
                document.getElementById('voiceOrb').classList.remove('listening');
                document.getElementById('statusText').textContent = 'Click microphone and speak your command';
            };
            
            recognition.onerror = (event) => {
                console.error('Speech recognition error:', event.error);
                showToast(`Voice error: ${event.error}`, 'error');
                appState.isListening = false;
                document.getElementById('voiceOrb').classList.remove('listening');
            };
            
            // Store recognition object globally
            window.voiceRecognition = recognition;
            
            // Set up voice orb click
            document.getElementById('voiceOrb').addEventListener('click', () => {
                if (appState.isListening) {
                    recognition.stop();
                } else {
                    try {
                        recognition.start();
                    } catch (error) {
                        showToast('Error starting voice recognition', 'error');
                    }
                }
            });
            
            // Set up voice button
            document.getElementById('voiceBtn').addEventListener('click', () => {
                if (appState.isListening) {
                    recognition.stop();
                } else {
                    try {
                        recognition.start();
                    } catch (error) {
                        showToast('Error starting voice recognition', 'error');
                    }
                }
            });
        }
        
        // ================ VOICE COMMAND HANDLER ================
        async function handleVoiceCommand(command) {
            console.log('Voice command:', command);
            
            // Add to history
            appState.voiceHistory.push({
                command: command,
                timestamp: new Date().toISOString()
            });
            
            // Show processing
            updateAIResponse('<div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div> Processing your command...</div>');
            
            // Process command
            const response = await processVoiceCommand(command);
            
            // Update response
            updateAIResponse(response);
            
            // Speak response if TTS is enabled
            if (appState.ttsEnabled) {
                speakResponse(extractTextFromResponse(response));
            }
        }
        
        async function processVoiceCommand(command) {
            const lowerCmd = command.toLowerCase();
            
            // Note commands
            if (lowerCmd.includes('note') || lowerCmd.includes('write down') || lowerCmd.includes('remember')) {
                const noteMatch = command.match(/(?:note|write down|remember)(?: that)?\s+(.+)/i);
                if (noteMatch) {
                    const noteText = noteMatch[1];
                    addNote(noteText, true);
                    return `<div class="success-message"><strong>📝 Note Added via Voice</strong><br>"${noteText}"</div>`;
                }
            }
            
            // Reminder commands
            if (lowerCmd.includes('remind') || lowerCmd.includes('reminder') || lowerCmd.includes('alarm')) {
                return handleVoiceReminder(command);
            }
            
            // Search commands
            if (lowerCmd.includes('search') || lowerCmd.includes('what is') || lowerCmd.includes('how to') || 
                lowerCmd.includes('who is') || lowerCmd.includes('where is')) {
                return await handleVoiceSearch(command);
            }
            
            // Weather commands
            if (lowerCmd.includes('weather')) {
                return handleVoiceWeather(command);
            }
            
            // Time commands
            if (lowerCmd.includes('time') || lowerCmd.includes('what time')) {
                return handleTimeCommand();
            }
            
            // Contact commands
            if (lowerCmd.includes('contact') || lowerCmd.includes('call') || lowerCmd.includes('message')) {
                return handleVoiceContact(command);
            }
            
            // AI Question
            return await handleAIQuestion(command);
        }
        
        // ================ UI INITIALIZATION ================
        function initializeUI() {
            // Tab switching
            document.querySelectorAll('.tab-btn, .nav-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const tabId = btn.dataset.tab;
                    switchTab(tabId);
                });
            });
            
            // Theme toggle
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            document.getElementById('darkModeToggle').addEventListener('change', toggleTheme);
            
            // AI toggle
            document.getElementById('aiToggle').addEventListener('click', () => {
                appState.aiEnabled = !appState.aiEnabled;
                document.getElementById('aiToggle').classList.toggle('active', appState.aiEnabled);
                document.getElementById('aiEnabled').checked = appState.aiEnabled;
                showToast(`AI ${appState.aiEnabled ? 'enabled' : 'disabled'}`, appState.aiEnabled ? 'success' : 'warning');
                saveAppState();
            });
            
            // Settings toggle
            document.getElementById('settingsBtn').addEventListener('click', toggleSettingsPanel);
            
            // WhatsApp button
            document.getElementById('whatsappBtn').addEventListener('click', () => {
                window.open('https://wa.me/254712345678?text=Hello%20ALTECH%20AI%20Assistant%20Support', '_blank');
            });
            
            // Install button
            document.getElementById('installBtn').addEventListener('click', showInstallPrompt);
            
            // Settings toggles
            document.getElementById('voiceEnabled').addEventListener('change', (e) => {
                appState.voiceEnabled = e.target.checked;
                saveAppState();
            });
            
            document.getElementById('autoSave').addEventListener('change', (e) => {
                appState.autoSave = e.target.checked;
                saveAppState();
            });
            
            document.getElementById('notificationsEnabled').addEventListener('change', (e) => {
                appState.notificationsEnabled = e.target.checked;
                if (e.target.checked) {
                    requestNotificationPermission();
                }
                saveAppState();
            });
            
            document.getElementById('ttsEnabled').addEventListener('change', (e) => {
                appState.ttsEnabled = e.target.checked;
                saveAppState();
            });
            
            // Initialize dark mode
            updateThemeUI();
        }
        
        function initializeQuickActions() {
            const quickActions = [
                { icon: 'fa-user-plus', text: 'Add Contact', action: 'showAddContactModal()', color: 'primary' },
                { icon: 'fa-edit', text: 'Add Note', action: 'focusNotes()', color: 'success' },
                { icon: 'fa-bell', text: 'Set Reminder', action: 'focusReminders()', color: 'warning' },
                { icon: 'fa-search', text: 'Search Web', action: 'focusSearch()', color: 'info' },
                { icon: 'fa-cloud-sun', text: 'Check Weather', action: 'checkWeather()', color: 'primary' },
                { icon: 'fa-question-circle', text: 'Ask AI', action: 'askAIQuestion()', color: 'success' },
                { icon: 'fa-phone', text: 'Make Call', action: 'showCallDialog()', color: 'info' },
                { icon: 'fa-music', text: 'Play Music', action: 'playMusic()', color: 'warning' }
            ];
            
            const container = document.getElementById('quickActions');
            container.innerHTML = quickActions.map(action => `
                <button class="action-btn ${action.color ? action.color : ''}" onclick="${action.action}">
                    <i class="fas ${action.icon}"></i>
                    <span>${action.text}</span>
                </button>
            `).join('');
        }
        
        // ================ TAB MANAGEMENT ================
        function switchTab(tabId) {
            appState.currentTab = tabId;
            
            // Update tab buttons
            document.querySelectorAll('.tab-btn, .nav-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.tab === tabId);
            });
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.toggle('active', content.id === tabId);
            });
            
            // Save state
            saveAppState();
        }
        
        // ================ THEME MANAGEMENT ================
        function toggleTheme() {
            appState.darkMode = !appState.darkMode;
            updateThemeUI();
            saveAppState();
            showToast(`Switched to ${appState.darkMode ? 'dark' : 'light'} mode`, 'info');
        }
        
        function updateThemeUI() {
            document.body.classList.toggle('dark-mode', appState.darkMode);
            document.getElementById('themeToggle').innerHTML = 
                `<i class="fas fa-${appState.darkMode ? 'sun' : 'moon'}"></i>`;
            document.getElementById('darkModeToggle').checked = appState.darkMode;
        }
        
        // ================ SETTINGS PANEL ================
        function toggleSettingsPanel() {
            const panel = document.getElementById('settingsPanel');
            panel.classList.toggle('open');
        }
        
        // ================ CONTACTS MANAGEMENT ================
        function showAddContactModal() {
            document.getElementById('addContactModal').style.display = 'flex';
            document.getElementById('contactName').focus();
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        function saveContact() {
            const name = document.getElementById('contactName').value.trim();
            const phone = document.getElementById('contactPhone').value.trim();
            const email = document.getElementById('contactEmail').value.trim();
            const group = document.getElementById('contactGroup').value;
            
            if (!name || !phone) {
                showToast('Please enter name and phone number', 'error');
                return;
            }
            
            const contact = {
                id: Date.now(),
                name: name,
                phone: phone.replace(/\D/g, ''),
                email: email,
                group: group,
                createdAt: new Date().toISOString()
            };
            
            appState.contacts.push(contact);
            saveContacts();
            updateContactsDisplay();
            
            closeModal('addContactModal');
            
            showToast(`Contact "${name}" added successfully`, 'success');
            updateAIResponse(`<div class='success-message'><strong>✅ Contact Added</strong><br>Name: ${name}<br>Phone: ${formatPhone(phone)}</div>`);
            
            // Clear form
            document.getElementById('contactName').value = '';
            document.getElementById('contactPhone').value = '';
            document.getElementById('contactEmail').value = '';
            document.getElementById('contactGroup').value = '';
        }
        
        async function importRealContacts() {
            if ('contacts' in navigator && 'ContactsManager' in window) {
                try {
                    const props = ['name', 'tel', 'email'];
                    const opts = { multiple: true };
                    
                    const contacts = await navigator.contacts.select(props, opts);
                    
                    contacts.forEach(contact => {
                        const name = contact.name?.[0] || 'Unknown';
                        const phone = contact.tel?.[0] || '';
                        const email = contact.email?.[0] || '';
                        
                        if (phone) {
                            appState.contacts.push({
                                id: Date.now() + Math.random(),
                                name: name,
                                phone: phone.replace(/\D/g, ''),
                                email: email,
                                group: 'imported',
                                createdAt: new Date().toISOString()
                            });
                        }
                    });
                    
                    saveContacts();
                    updateContactsDisplay();
                    showToast(`Imported ${contacts.length} contacts from your device`, 'success');
                    
                } catch (error) {
                    console.error('Contact import error:', error);
                    showToast('Could not access contacts. Using sample data instead.', 'warning');
                    importSampleContacts();
                }
            } else {
                showToast('Contact API not supported in this browser', 'warning');
                importSampleContacts();
            }
        }
        
        function importSampleContacts() {
            const sampleContacts = [
                { id: 1, name: "John Doe", phone: "0712345678", email: "john@example.com", group: "friends" },
                { id: 2, name: "Jane Smith", phone: "0798765432", email: "jane@example.com", group: "work" },
                { id: 3, name: "Emergency Services", phone: "911", email: "", group: "emergency" },
                { id: 4, name: "Alex Johnson", phone: "0744556677", email: "alex@example.com", group: "family" },
                { id: 5, name: "Sarah Williams", phone: "0722334455", email: "sarah@example.com", group: "friends" }
            ];
            
            sampleContacts.forEach(contact => {
                appState.contacts.push({
                    ...contact,
                    createdAt: new Date().toISOString()
                });
            });
            
            saveContacts();
            updateContactsDisplay();
            showToast('Imported sample contacts', 'success');
        }
        
        function updateContactsDisplay() {
            const container = document.getElementById('contactsList');
            
            if (appState.contacts.length === 0) {
                container.innerHTML = `
                    <div class="info-message text-center">
                        <i class="fas fa-users fa-2x mb-2"></i>
                        <h4>No Contacts Yet</h4>
                        <p>Add your first contact or import from your device</p>
                        <button class="btn btn-primary mt-2" onclick="showAddContactModal()">
                            <i class="fas fa-user-plus"></i> Add Contact
                        </button>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = appState.contacts.map(contact => `
                <div class="contact-item">
                    <div class="contact-info">
                        <div class="contact-name">${contact.name}</div>
                        <div class="contact-phone">
                            <i class="fas fa-phone"></i> ${formatPhone(contact.phone)}
                        </div>
                        ${contact.email ? `<div class="contact-email"><i class="fas fa-envelope"></i> ${contact.email}</div>` : ''}
                        ${contact.group ? `<span style="background: var(--primary); color: white; padding: 3px 10px; border-radius: 12px; font-size: 0.8em; display: inline-block; margin-top: 5px;">${contact.group}</span>` : ''}
                    </div>
                    <div class="contact-actions">
                        <button class="contact-action-btn call" onclick="callContact('${contact.phone}')" title="Call">
                            <i class="fas fa-phone"></i>
                        </button>
                        <button class="contact-action-btn message" onclick="messageContact('${contact.phone}')" title="Message">
                            <i class="fas fa-comment"></i>
                        </button>
                        <button class="contact-action-btn delete" onclick="deleteContact(${contact.id})" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        function callContact(phone) {
            if (/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                window.location.href = `tel:${phone}`;
            } else {
                showToast(`Call ${phone} from your mobile device`, 'info');
                updateAIResponse(`<div class='info-message'>📞 Ready to call: ${formatPhone(phone)}<br><small>On a mobile device, this would open the dialer.</small></div>`);
            }
        }
        
        function messageContact(phone) {
            if (/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                window.location.href = `sms:${phone}`;
            } else {
                showToast(`Message ${phone} from your mobile device`, 'info');
            }
        }
        
        function deleteContact(id) {
            const contact = appState.contacts.find(c => c.id === id);
            if (contact && confirm(`Delete contact "${contact.name}"?`)) {
                appState.contacts = appState.contacts.filter(c => c.id !== id);
                saveContacts();
                updateContactsDisplay();
                showToast('Contact deleted', 'success');
            }
        }
        
        // ================ NOTES MANAGEMENT ================
        function addNote(text, isVoice = false) {
            const note = {
                id: Date.now(),
                text: text,
                isVoice: isVoice,
                createdAt: new Date().toISOString()
            };
            
            appState.notes.unshift(note);
            saveNotes();
            updateNotesDisplay();
            
            if (isVoice) {
                showToast('Note added via voice command', 'success');
            }
        }
        
        function saveNote() {
            const textarea = document.getElementById('notesTextarea');
            const text = textarea.value.trim();
            
            if (!text) {
                showToast('Please enter a note', 'warning');
                return;
            }
            
            addNote(text, false);
            textarea.value = '';
            showToast('Note saved', 'success');
        }
        
        function addVoiceNote() {
            if (window.voiceRecognition) {
                showToast('Speak your note after the beep', 'info');
                window.voiceRecognition.start();
                
                window.voiceRecognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript;
                    if (event.results[0].isFinal) {
                        addNote(transcript, true);
                        window.voiceRecognition.stop();
                    }
                };
            }
        }
        
        function updateNotesDisplay() {
            const container = document.getElementById('notesList');
            
            if (appState.notes.length === 0) {
                container.innerHTML = `
                    <div class="info-message text-center">
                        <i class="fas fa-sticky-note fa-2x mb-2"></i>
                        <h4>No Notes Yet</h4>
                        <p>Start typing or use voice commands to add notes</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = appState.notes.slice(0, 10).map(note => `
                <div class="note-item">
                    <div class="note-date">
                        <i class="fas fa-${note.isVoice ? 'microphone' : 'edit'}"></i>
                        ${new Date(note.createdAt).toLocaleString()}
                    </div>
                    <p>${note.text}</p>
                </div>
            `).join('');
        }
        
        function clearNotes() {
            if (confirm('Clear all notes?')) {
                appState.notes = [];
                document.getElementById('notesTextarea').value = '';
                saveNotes();
                updateNotesDisplay();
                showToast('All notes cleared', 'success');
            }
        }
        
        function exportNotes() {
            const notesText = appState.notes.map(note => 
                `[${new Date(note.createdAt).toLocaleString()}] ${note.text}`
            ).join('\n---\n');
            
            if (!notesText.trim()) {
                showToast('No notes to export', 'warning');
                return;
            }
            
            const blob = new Blob([notesText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `altech-notes-${new Date().toISOString().slice(0,10)}.txt`;
            a.click();
            showToast('Notes exported', 'success');
        }
        
        function focusNotes() {
            switchTab('notes');
            setTimeout(() => {
                document.getElementById('notesTextarea').focus();
            }, 100);
        }
        
        // ================ REMINDERS MANAGEMENT ================
        function addReminder() {
            const text = document.getElementById('reminderText').value.trim();
            const timeStr = document.getElementById('reminderTime').value;
            const type = document.getElementById('reminderType').value;
            
            if (!text || !timeStr) {
                showToast('Please enter reminder text and time', 'error');
                return;
            }
            
            const time = new Date(timeStr);
            if (time < new Date()) {
                showToast('Please select a future time', 'error');
                return;
            }
            
            const reminder = {
                id: Date.now(),
                text: text,
                time: time.toISOString(),
                type: type,
                active: true,
                createdAt: new Date().toISOString()
            };
            
            appState.reminders.push(reminder);
            saveReminders();
            updateRemindersDisplay();
            
            // Clear form
            document.getElementById('reminderText').value = '';
            const now = new Date();
            now.setMinutes(now.getMinutes() + 30);
            document.getElementById('reminderTime').value = now.toISOString().slice(0, 16);
            
            showToast('Reminder set!', 'success');
            updateAIResponse(`<div class='success-message'><strong>⏰ Reminder Set</strong><br>${text}<br>Time: ${time.toLocaleString()}</div>`);
        }
        
        function handleVoiceReminder(command) {
            const textMatch = command.match(/(?:remind me to|reminder for|set alarm for)\s+(.+)/i);
            if (!textMatch) {
                return `<div class='error-message'>Please specify what to remind you about. Example: "Remind me to call mom at 3 PM"</div>`;
            }
            
            const text = textMatch[1];
            const time = parseTimeFromCommand(command);
            
            const reminder = {
                id: Date.now(),
                text: text,
                time: time.toISOString(),
                type: 'both',
                active: true,
                createdAt: new Date().toISOString()
            };
            
            appState.reminders.push(reminder);
            saveReminders();
            updateRemindersDisplay();
            
            return `<div class='success-message'><strong>⏰ Voice Reminder Set</strong><br>${text}<br>Time: ${time.toLocaleString()}</div>`;
        }
        
        function updateRemindersDisplay() {
            const container = document.getElementById('remindersList');
            const now = new Date();
            
            const activeReminders = appState.reminders
                .filter(r => r.active)
                .sort((a, b) => new Date(a.time) - new Date(b.time));
            
            if (activeReminders.length === 0) {
                container.innerHTML = `
                    <div class="info-message text-center">
                        <i class="fas fa-bell fa-2x mb-2"></i>
                        <h4>No Reminders</h4>
                        <p>Set your first reminder using the form or voice commands</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = activeReminders.map(reminder => {
                const time = new Date(reminder.time);
                const isDue = time <= now;
                const timeDiff = time - now;
                const hoursLeft = Math.floor(timeDiff / (1000 * 60 * 60));
                const minutesLeft = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                
                return `
                    <div class="reminder-item ${isDue ? 'due' : ''}">
                        <p><strong>${reminder.text}</strong></p>
                        <p style="color: var(--text-secondary); margin-top: 10px;">
                            <i class="fas fa-clock"></i> ${time.toLocaleString()}
                            ${hoursLeft > 0 ? `<span style="margin-left: 10px; background: var(--info); color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8em;">${hoursLeft}h ${minutesLeft}m left</span>` : ''}
                        </p>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button onclick="deleteReminder(${reminder.id})" style="padding: 8px 15px; background: var(--danger); color: white; border: none; border-radius: 8px; cursor: pointer;">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                            <button onclick="snoozeReminder(${reminder.id})" style="padding: 8px 15px; background: var(--warning); color: var(--dark); border: none; border-radius: 8px; cursor: pointer;">
                                <i class="fas fa-clock"></i> Snooze
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function deleteReminder(id) {
            appState.reminders = appState.reminders.filter(r => r.id !== id);
            saveReminders();
            updateRemindersDisplay();
            showToast('Reminder deleted', 'success');
        }
        
        function snoozeReminder(id) {
            const reminder = appState.reminders.find(r => r.id === id);
            if (reminder) {
                const newTime = new Date(new Date(reminder.time).getTime() + 30 * 60000); // Add 30 minutes
                reminder.time = newTime.toISOString();
                saveReminders();
                updateRemindersDisplay();
                showToast('Reminder snoozed for 30 minutes', 'info');
            }
        }
        
        function focusReminders() {
            switchTab('reminders');
            setTimeout(() => {
                document.getElementById('reminderText').focus();
            }, 100);
        }
        
        // ================ SEARCH FUNCTIONALITY ================
        async function performSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) {
                showToast('Please enter a search query', 'warning');
                return;
            }
            
            await handleSearch(query);
        }
        
        async function handleSearch(query) {
            // Add to history
            appState.searchHistory.push({
                query: query,
                timestamp: new Date().toISOString()
            });
            
            // Show loading
            updateSearchResults(`<div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div> Searching for "${query}"...</div>`);
            
            try {
                // Try AI response first
                const aiResponse = await getAIResponse(query);
                
                // Update results
                updateSearchResults(`
                    <div class="search-result-item">
                        <h4><i class="fas fa-robot"></i> AI Answer</h4>
                        <p>${aiResponse}</p>
                        <div style="margin-top: 15px;">
                            <button class="btn btn-primary" onclick="window.open('https://www.google.com/search?q=${encodeURIComponent(query)}', '_blank')">
                                <i class="fas fa-external-link-alt"></i> More on Google
                            </button>
                            <button class="btn btn-info" onclick="window.open('https://en.wikipedia.org/wiki/Special:Search?search=${encodeURIComponent(query)}', '_blank')">
                                <i class="fab fa-wikipedia-w"></i> Wikipedia
                            </button>
                        </div>
                    </div>
                `);
                
                // Also update AI response in assistant tab
                updateAIResponse(`<div class='success-message'><strong>🔍 Search Results</strong><br>${aiResponse.substring(0, 200)}...</div>`);
                
                // Speak if enabled
                if (appState.ttsEnabled) {
                    speakResponse(aiResponse.substring(0, 100));
                }
                
            } catch (error) {
                // Fallback to direct search
                updateSearchResults(`
                    <div class="search-result-item">
                        <h4><i class="fas fa-search"></i> Search Results for: "${query}"</h4>
                        <p>Opening search results in browser...</p>
                        <div style="margin-top: 15px;">
                            <button class="btn btn-primary" onclick="window.open('https://www.google.com/search?q=${encodeURIComponent(query)}', '_blank')">
                                <i class="fas fa-external-link-alt"></i> Open in Google
                            </button>
                        </div>
                    </div>
                `);
                
                // Auto-open search in new tab
                setTimeout(() => {
                    window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, '_blank');
                }, 1000);
            }
        }
        
        async function handleVoiceSearch(command) {
            const query = command.replace(/search for|what is|how to|who is|where is/i, '').trim();
            return await handleSearch(query);
        }
        
        function searchWithProvider(provider) {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) {
                showToast('Please enter a search query', 'warning');
                return;
            }
            
            let url;
            switch(provider) {
                case 'google':
                    url = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
                    break;
                case 'wikipedia':
                    url = `https://en.wikipedia.org/wiki/Special:Search?search=${encodeURIComponent(query)}`;
                    break;
                case 'youtube':
                    url = `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}`;
                    break;
                case 'news':
                    url = `https://news.google.com/search?q=${encodeURIComponent(query)}`;
                    break;
            }
            
            window.open(url, '_blank');
            showToast(`Opening ${provider} search...`, 'info');
        }
        
        function updateSearchResults(content) {
            document.getElementById('searchResults').innerHTML = content;
        }
        
        function focusSearch() {
            switchTab('search');
            setTimeout(() => {
                document.getElementById('searchInput').focus();
            }, 100);
        }
        
        // ================ WEATHER FUNCTIONALITY ================
        function checkWeather() {
            const location = prompt("Enter location for weather:", "Nairobi");
            if (location) {
                handleWeather(location);
            }
        }
        
        function handleWeather(location) {
            // Generate mock weather data
            const weatherData = {
                location: location,
                temperature: Math.floor(Math.random() * 35) + 10,
                condition: ['Sunny', 'Partly Cloudy', 'Cloudy', 'Rainy', 'Stormy'][Math.floor(Math.random() * 5)],
                humidity: Math.floor(Math.random() * 70) + 30,
                wind: Math.floor(Math.random() * 40) + 5,
                description: 'Typical weather for this location'
            };
            
            const response = `
                <div class="search-result-item">
                    <h4><i class="fas fa-cloud-sun"></i> Weather in ${weatherData.location}</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 15px 0;">
                        <div style="text-align: center;">
                            <div style="font-size: 2em; font-weight: bold; color: var(--primary);">${weatherData.temperature}°C</div>
                            <div style="font-size: 0.9em;">Temperature</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.2em; margin-bottom: 5px;">${weatherData.condition}</div>
                            <div style="font-size: 0.9em;">Condition</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.1em; margin-bottom: 5px;">${weatherData.humidity}%</div>
                            <div style="font-size: 0.9em;">Humidity</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.1em; margin-bottom: 5px;">${weatherData.wind} km/h</div>
                            <div style="font-size: 0.9em;">Wind Speed</div>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="window.open('https://www.google.com/search?q=weather+${encodeURIComponent(location)}', '_blank')">
                        <i class="fas fa-external-link-alt"></i> More Details
                    </button>
                </div>
            `;
            
            updateSearchResults(response);
            updateAIResponse(`<div class='info-message'>🌤️ Weather in ${location}: ${weatherData.temperature}°C, ${weatherData.condition}</div>`);
            
            if (appState.ttsEnabled) {
                speakResponse(`Weather in ${location}: ${weatherData.temperature} degrees, ${weatherData.condition.toLowerCase()}`);
            }
        }
        
        function handleVoiceWeather(command) {
            const locationMatch = command.match(/weather in (.+)/i);
            const location = locationMatch ? locationMatch[1] : 'your location';
            return handleWeather(location);
        }
        
        // ================ TIME FUNCTIONALITY ================
        function handleTimeCommand() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('en-US', { 
                hour: '2-digit', 
                minute: '2-digit',
                second: '2-digit',
                hour12: true 
            });
            const dateStr = now.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            const response = `<div class="info-message">
                <h4>🕒 Current Time</h4>
                <div style="text-align: center; padding: 15px;">
                    <div style="font-size: 2em; font-weight: bold; color: var(--primary); margin-bottom: 10px;">${timeStr}</div>
                    <div style="font-size: 1.1em; color: var(--text-secondary);">${dateStr}</div>
                </div>
            </div>`;
            
            updateAIResponse(response);
            
            if (appState.ttsEnabled) {
                speakResponse(`The time is ${timeStr} on ${dateStr}`);
            }
            
            return response;
        }
        
        // ================ AI RESPONSE SYSTEM ================
        async function getAIResponse(query) {
            if (!appState.aiEnabled) {
                return "AI responses are currently disabled. Enable AI in settings.";
            }
            
            try {
                // Try multiple free AI endpoints
                const endpoints = [
                    {
                        url: 'https://api.openai.com/v1/chat/completions',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': 'Bearer free-trial-key' // In production, use real key
                        },
                        body: {
                            model: "gpt-3.5-turbo",
                            messages: [{ role: "user", content: query }],
                            max_tokens: 200,
                            temperature: 0.7
                        }
                    },
                    {
                        url: 'https://free.churchless.tech/v1/chat/completions',
                        headers: { 'Content-Type': 'application/json' },
                        body: {
                            model: "gpt-3.5-turbo",
                            messages: [{ role: "user", content: query }],
                            max_tokens: 200,
                            temperature: 0.7
                        }
                    }
                ];
                
                for (const endpoint of endpoints) {
                    try {
                        const response = await fetch(endpoint.url, {
                            method: 'POST',
                            headers: endpoint.headers,
                            body: JSON.stringify(endpoint.body)
                        });
                        
                        if (response.ok) {
                            const data = await response.json();
                            if (data.choices?.[0]?.message?.content) {
                                return data.choices[0].message.content.trim();
                            }
                        }
                    } catch (error) {
                        console.log(`Endpoint failed: ${error.message}`);
                        continue;
                    }
                }
                
                // Fallback to local responses
                return getLocalAIResponse(query);
                
            } catch (error) {
                console.error('AI response error:', error);
                return getLocalAIResponse(query);
            }
        }
        
        function getLocalAIResponse(query) {
            const lowerQuery = query.toLowerCase();
            
            const knowledgeBase = {
                greetings: [
                    "Hello! I'm your ALTECH AI Assistant. How can I help you today?",
                    "Hi there! I'm ready to assist you with notes, reminders, search, and more!",
                    "Welcome! What can I do for you today?"
                ],
                ai: "Artificial Intelligence (AI) refers to computer systems that can perform tasks that normally require human intelligence. This includes understanding language, recognizing images, making decisions, and learning from experience.",
                weather: "I can check weather for any location. Just say 'weather in [city]' or click the weather button.",
                help: "I can help with: 📝 Notes, ⏰ Reminders, 🔍 Web search, 🌤️ Weather, 👥 Contacts, and answering questions! Try voice commands or click the buttons.",
                capabilities: "I understand natural language. Try: 'Add note meeting tomorrow', 'Remind me to call mom', 'Search for AI news', or 'What's the weather like?'",
                thank: "You're welcome! Is there anything else I can help you with?",
                bye: "Goodbye! Have a great day!"
            };
            
            if (/(hello|hi|hey)/.test(lowerQuery)) {
                return knowledgeBase.greetings[Math.floor(Math.random() * knowledgeBase.greetings.length)];
            }
            if (/(artificial intelligence|ai|what is ai)/.test(lowerQuery)) {
                return knowledgeBase.ai;
            }
            if (/(weather|forecast)/.test(lowerQuery)) {
                return knowledgeBase.weather;
            }
            if (/(help|what can you do)/.test(lowerQuery)) {
                return knowledgeBase.capabilities;
            }
            if (/(thank you|thanks)/.test(lowerQuery)) {
                return knowledgeBase.thank;
            }
            if (/(goodbye|bye)/.test(lowerQuery)) {
                return knowledgeBase.bye;
            }
            
            return `I understand you're asking about "${query}". This is something I can help you research. Would you like me to search the web for more detailed information?`;
        }
        
        async function handleAIQuestion(question) {
            const response = await getAIResponse(question);
            return `<div class="success-message"><strong>🤖 AI Response</strong><br>${response}</div>`;
        }
        
        function askAIQuestion() {
            const question = prompt("What would you like to ask the AI?", "");
            if (question) {
                handleAIQuestion(question).then(response => {
                    updateAIResponse(response);
                });
            }
        }
        
        // ================ TEXT-TO-SPEECH ================
        function speakResponse(text) {
            if (!appState.ttsEnabled || !('speechSynthesis' in window)) return;
            
            try {
                // Cancel any ongoing speech
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 1.0;
                utterance.pitch = 1.0;
                utterance.volume = 1.0;
                
                // Get available voices
                const voices = window.speechSynthesis.getVoices();
                if (voices.length > 0) {
                    // Prefer English voices
                    const englishVoice = voices.find(v => v.lang.startsWith('en')) || voices[0];
                    utterance.voice = englishVoice;
                }
                
                window.speechSynthesis.speak(utterance);
                
            } catch (error) {
                console.error('Speech synthesis error:', error);
            }
        }
        
        function speakCurrentResponse() {
            const responseElement = document.getElementById('aiOutput');
            const text = extractTextFromResponse(responseElement.innerHTML);
            speakResponse(text);
        }
        
        function extractTextFromResponse(html) {
            const temp = document.createElement('div');
            temp.innerHTML = html;
            return temp.textContent || temp.innerText || '';
        }
        
        // ================ PWA INSTALLATION ================
        function checkPWAInstallable() {
            // Check if PWA is already installed
            if (window.matchMedia('(display-mode: standalone)').matches) {
                document.getElementById('installBtn').style.display = 'none';
                return;
            }
            
            // Listen for beforeinstallprompt event
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                appState.deferredPrompt = e;
                
                // Show install button
                document.getElementById('installBtn').style.display = 'flex';
                
                // Show install banner after 5 seconds
                setTimeout(() => {
                    if (!localStorage.getItem('installBannerDismissed')) {
                        document.getElementById('installBanner').style.display = 'block';
                    }
                }, 5000);
            });
            
            // Check if app is already installed
            window.addEventListener('appinstalled', () => {
                document.getElementById('installBtn').style.display = 'none';
                document.getElementById('installBanner').style.display = 'none';
                showToast('App installed successfully!', 'success');
            });
        }
        
        function showInstallPrompt() {
            if (appState.deferredPrompt) {
                appState.deferredPrompt.prompt();
                appState.deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted install');
                    }
                    appState.deferredPrompt = null;
                });
            } else {
                showToast('Installation not available in this browser', 'warning');
            }
        }
        
        function installPWA() {
            showInstallPrompt();
            hideInstallBanner();
        }
        
        function hideInstallBanner() {
            document.getElementById('installBanner').style.display = 'none';
            localStorage.setItem('installBannerDismissed', 'true');
        }
        
        // ================ NOTIFICATION SYSTEM ================
        function requestNotificationPermission() {
            if (!('Notification' in window)) {
                console.log('This browser does not support notifications');
                return;
            }
            
            if (Notification.permission === 'granted') {
                appState.notificationsEnabled = true;
            } else if (Notification.permission !== 'denied') {
                Notification.requestPermission().then(permission => {
                    appState.notificationsEnabled = permission === 'granted';
                    saveAppState();
                });
            }
        }
        
        function showNotification(title, options) {
            if (!appState.notificationsEnabled || !('Notification' in window)) return;
            
            if (Notification.permission === 'granted') {
                new Notification(title, options);
            }
        }
        
        // ================ ACCESSIBILITY FUNCTIONS ================
        function increaseFontSize() {
            appState.fontSize = Math.min(appState.fontSize + 2, 24);
            document.documentElement.style.fontSize = appState.fontSize + 'px';
            saveAppState();
            showToast(`Font size increased to ${appState.fontSize}px`, 'info');
        }
        
        function decreaseFontSize() {
            appState.fontSize = Math.max(appState.fontSize - 2, 12);
            document.documentElement.style.fontSize = appState.fontSize + 'px';
            saveAppState();
            showToast(`Font size decreased to ${appState.fontSize}px`, 'info');
        }
        
        function toggleHighContrast() {
            appState.highContrast = !appState.highContrast;
            document.body.classList.toggle('high-contrast', appState.highContrast);
            saveAppState();
            showToast(`High contrast ${appState.highContrast ? 'enabled' : 'disabled'}`, 'info');
        }
        
        // ================ UTILITY FUNCTIONS ================
        function formatPhone(phone) {
            const cleaned = phone.replace(/\D/g, '');
            if (cleaned.length === 10) {
                return `(${cleaned.substring(0, 3)}) ${cleaned.substring(3, 6)}-${cleaned.substring(6)}`;
            }
            return phone;
        }
        
        function parseTimeFromCommand(command) {
            const now = new Date();
            const time = new Date(now);
            
            if (command.includes('tomorrow')) {
                time.setDate(time.getDate() + 1);
            }
            if (command.includes('next week')) {
                time.setDate(time.getDate() + 7);
            }
            if (command.includes('in 1 hour') || command.includes('in one hour')) {
                time.setHours(time.getHours() + 1);
            }
            if (command.includes('in 30 minutes')) {
                time.setMinutes(time.getMinutes() + 30);
            }
            
            // Try to parse specific time
            const timeMatch = command.match(/(\d{1,2})(?::(\d{2}))?\s*(am|pm)?/i);
            if (timeMatch) {
                let hours = parseInt(timeMatch[1]);
                const minutes = timeMatch[2] ? parseInt(timeMatch[2]) : 0;
                const period = timeMatch[3]?.toLowerCase();
                
                if (period === 'pm' && hours < 12) hours += 12;
                if (period === 'am' && hours === 12) hours = 0;
                
                time.setHours(hours, minutes, 0, 0);
                
                if (time < now) {
                    time.setDate(time.getDate() + 1);
                }
            } else {
                // Default: 1 hour from now
                time.setHours(time.getHours() + 1);
            }
            
            return time;
        }
        
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = extractTextFromResponse(element.innerHTML);
            
            navigator.clipboard.writeText(text).then(() => {
                showToast('Copied to clipboard', 'success');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showToast('Copied to clipboard', 'success');
            });
        }
        
        function clearResponse() {
            document.getElementById('aiOutput').innerHTML = '';
        }
        
        function updateAIResponse(html) {
            document.getElementById('aiOutput').innerHTML = html;
        }
        
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <i class="fas fa-${getToastIcon(type)}"></i>
                <span>${message}</span>
            `;
            
            container.appendChild(toast);
            
            // Remove toast after 3 seconds
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }
        
        function getToastIcon(type) {
            switch(type) {
                case 'success': return 'check-circle';
                case 'error': return 'exclamation-circle';
                case 'warning': return 'exclamation-triangle';
                case 'info': return 'info-circle';
                default: return 'info-circle';
            }
        }
        
        // ================ DATA PERSISTENCE ================
        function saveAppState() {
            localStorage.setItem('altech_app_state', JSON.stringify(appState));
        }
        
        function loadAppState() {
            const saved = localStorage.getItem('altech_app_state');
            if (saved) {
                appState = { ...appState, ...JSON.parse(saved) };
            }
        }
        
        function saveContacts() {
            localStorage.setItem('altech_contacts', JSON.stringify(appState.contacts));
        }
        
        function loadContacts() {
            const saved = localStorage.getItem('altech_contacts');
            if (saved) {
                appState.contacts = JSON.parse(saved);
            }
        }
        
        function saveNotes() {
            localStorage.setItem('altech_notes', JSON.stringify(appState.notes));
        }
        
        function loadNotes() {
            const saved = localStorage.getItem('altech_notes');
            if (saved) {
                appState.notes = JSON.parse(saved);
            }
        }
        
        function saveReminders() {
            localStorage.setItem('altech_reminders', JSON.stringify(appState.reminders));
        }
        
        function loadReminders() {
            const saved = localStorage.getItem('altech_reminders');
            if (saved) {
                appState.reminders = JSON.parse(saved);
            }
        }
        
        function loadAllData() {
            loadContacts();
            loadNotes();
            loadReminders();
            updateContactsDisplay();
            updateNotesDisplay();
            updateRemindersDisplay();
        }
        
        function exportAllData() {
            const data = {
                appState: appState,
                contacts: appState.contacts,
                notes: appState.notes,
                reminders: appState.reminders,
                exportedAt: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `altech-backup-${new Date().toISOString().slice(0,10)}.json`;
            a.click();
            showToast('All data exported', 'success');
        }
        
        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = (e) => {
                const file = e.target.files[0];
                const reader = new FileReader();
                
                reader.onload = (event) => {
                    try {
                        const data = JSON.parse(event.target.result);
                        
                        if (data.contacts) appState.contacts = data.contacts;
                        if (data.notes) appState.notes = data.notes;
                        if (data.reminders) appState.reminders = data.reminders;
                        
                        saveContacts();
                        saveNotes();
                        saveReminders();
                        loadAllData();
                        
                        showToast('Data imported successfully', 'success');
                    } catch (error) {
                        showToast('Invalid backup file', 'error');
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }
        
        function clearAllData() {
            if (confirm('Are you sure? This will delete all your data.')) {
                localStorage.clear();
                appState = {
                    ...appState,
                    contacts: [],
                    notes: [],
                    reminders: [],
                    searchHistory: [],
                    voiceHistory: []
                };
                loadAllData();
                showToast('All data cleared', 'success');
            }
        }
        
        // ================ AUTO-SAVE AND BACKGROUND TASKS ================
        function setupAutoSave() {
            setInterval(() => {
                if (appState.autoSave) {
                    saveContacts();
                    saveNotes();
                    saveReminders();
                    saveAppState();
                }
            }, 30000); // Every 30 seconds
        }
        
        function setupReminderChecks() {
            setInterval(() => {
                const now = new Date();
                
                appState.reminders.forEach(reminder => {
                    if (reminder.active) {
                        const time = new Date(reminder.time);
                        const timeDiff = time - now;
                        
                        // Check if reminder is due (within 1 minute)
                        if (timeDiff > 0 && timeDiff < 60000) {
                            // Show notification
                            if (appState.notificationsEnabled) {
                                showNotification('⏰ ALTECH AI Reminder', {
                                    body: reminder.text,
                                    icon: 'icons/icon-192x192.png',
                                    badge: 'icons/icon-72x72.png'
                                });
                            }
                            
                            // Play sound if enabled
                            if (reminder.type === 'sound' || reminder.type === 'both') {
                                playNotificationSound();
                            }
                            
                            // Mark as inactive
                            reminder.active = false;
                            saveReminders();
                            updateRemindersDisplay();
                            
                            // Show toast
                            showToast(`Reminder: ${reminder.text}`, 'warning');
                        }
                    }
                });
            }, 30000); // Check every 30 seconds
        }
        
        function playNotificationSound() {
            const audio = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQ');
            audio.play().catch(e => console.log('Audio play failed:', e));
        }
        
        // ================ EVENT LISTENERS ================
        function setupEventListeners() {
            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Ctrl/Cmd + / to focus search
                if ((e.ctrlKey || e.metaKey) && e.key === '/') {
                    e.preventDefault();
                    focusSearch();
                }
                
                // Ctrl/Cmd + N for new note
                if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                    e.preventDefault();
                    focusNotes();
                }
                
                // Ctrl/Cmd + R for reminders
                if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
                    e.preventDefault();
                    focusReminders();
                }
                
                // Escape to close modals and settings
                if (e.key === 'Escape') {
                    closeModal('addContactModal');
                    document.getElementById('settingsPanel').classList.remove('open');
                }
                
                // Space to start/stop voice when not in input
                if (e.key === ' ' && !e.target.matches('input, textarea')) {
                    e.preventDefault();
                    if (window.voiceRecognition) {
                        if (appState.isListening) {
                            window.voiceRecognition.stop();
                        } else {
                            window.voiceRecognition.start();
                        }
                    }
                }
            });
            
            // Handle offline/online status
            window.addEventListener('online', () => {
                showToast('You are back online', 'success');
            });
            
            window.addEventListener('offline', () => {
                showToast('You are offline. Some features may not work.', 'warning');
            });
            
            // Handle page visibility
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    console.log('App hidden');
                } else {
                    console.log('App visible');
                    // Check reminders when app becomes visible
                    setupReminderChecks();
                }
            });
        }
        
        // ================ INITIAL SETUP ================
        // Set default reminder time to 30 minutes from now
        window.addEventListener('load', () => {
            const now = new Date();
            now.setMinutes(now.getMinutes() + 30);
            document.getElementById('reminderTime').value = now.toISOString().slice(0, 16);
        });
        
        console.log('🚀 ALTECH AI Assistant v2.0 loaded successfully!');
    </script>
</body>
</html>
